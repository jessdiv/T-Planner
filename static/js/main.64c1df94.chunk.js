(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(26),i=n.n(o),r=n(105),s=n(106),c=(n(50),n(4)),u=n(5),m=n(7),p=n(6),h=n(8),d=(n(20),n(104)),E=n(27),g=n.n(E),b=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement(g.a,{bg:"light",variant:"light",fixed:"top",className:"navlinks"},l.a.createElement(g.a.Brand,{href:"/"},l.a.createElement("strong",null,"AXSYD"),"  |"),l.a.createElement(d.a,{to:"/"}," Home  |"),l.a.createElement(d.a,{to:"/checkmystation"}," Check a station  |")),l.a.createElement("h1",{className:"heading"}," AxSyd "))}}]),t}(a.Component),f=n(18),v=n.n(f),S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).componentDidMount=function(){if(console.log("this trip length",e.props.thisTrip.legs.length),console.log("this trip",e.props.thisTrip.legs),e.props.thisTrip.legs.length<2){var t=[];console.log("this only has 1 leg!"),console.log(e.props.thisTrip.legs[0].stopSequence),e.props.thisTrip.legs[0].stopSequence.map(function(e){return console.log("parent name",e.parent.disassembledName),t.push(e.parent.disassembledName),t}),console.log("stop sequence",t),e.setState({stopSequence:t})}else console.log("this has more than one leg!")},e.state={stopSequence:[]},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return!1===this.props.display?l.a.createElement("div",null,"not displaying"):l.a.createElement("div",null,l.a.createElement("ul",null))}}]),t}(a.Component),j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleClick=function(t){t.preventDefault(),console.log("------ clickity click"),e.setState({displayStops:!e.state.displayStops}),console.log("displayStops:"+e.state.displayStops)},e.state={tripInfo:null,displayStops:!1},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.trips.journeys;return console.log("number of legs",t[0].legs.length),l.a.createElement("div",{className:"allTrips container"},l.a.createElement("ul",{className:"tripList"},t.map(function(n,a){return l.a.createElement("div",{className:"trip"},l.a.createElement("li",{key:25*a,className:"tripList"},l.a.createElement("p",null,n.legs[0].origin.departureTimePlanned),l.a.createElement("p",null,n.legs[0].transportation.number," "),l.a.createElement("button",{className:"moreInfo",onClick:e.handleClick}," Click for train info "),l.a.createElement(S,{display:e.state.displayStops,thisTrip:t[a]})))})))}}]),t}(a.Component),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={trips:null,accessibleRoutes:"off"},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){var e,t,n=this;t=this.props.wheelchairAccess,e=e=t?"on":"off",console.log(e),!0===this.props.submitted&&(this.props.resultSubmitted(),v.a.get("https://trip-planner-server.herokuapp.com/searchresults?origin=".concat(this.props.origin,"&destination=").concat(this.props.destination,"&time=").concat(this.props.time,"&date=").concat(this.props.date,"&wheelchairAccess=").concat(e)).then(function(e){var t=e.data;n.setState({trips:t})}))}},{key:"render",value:function(){return console.log("///////////////"),console.log("origin",this.props.origin),console.log("destination",this.props.destination),console.log("time",this.props.time),console.log("date",this.props.date),console.log("////////////////"),null===this.state.trips?l.a.createElement("div",null):l.a.createElement("div",{className:"tripHeading"},l.a.createElement("h2",{className:"route"}," ",this.props.originName," to ",this.props.destinationName),l.a.createElement("p",{className:"routeTime"}," Leaving after: ",this.props.time,", ",this.props.date),l.a.createElement(j,{trips:this.state.trips,origin:this.props.origin,destination:this.props.destination,originName:this.props.originName,destinationName:this.props.destinationName}))}}]),t}(a.Component),y=n(21),N=n.n(y),k=n(3),w=n.n(k),C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this)))._handleOriginChange=function(t){console.log(t.target.value),e.setState({selectedOrigin:t.target.value}),console.log(e.state.allStations[t.target.value]),e.setState({origin:e.state.allStations[t.target.value]})},e._handleDestinationChange=function(t){console.log(t.target.value),e.setState({selectedDestination:t.target.value}),console.log(e.state.allStations[t.target.value]),e.setState({destination:e.state.allStations[t.target.value]})},e._handleWheelchairInput=function(t){e.setState({wheelchairAccess:!e.state.wheelchairAccess})},e._handleDate=function(t){console.log(t.target.value);var n=t.target.value.split("-").join("");e.setState({date:n})},e._handleTime=function(t){console.log(t.target.value);var n=t.target.value.split(":").join("");e.setState({time:n})},e.componentDidMount=function(){var t,n;v.a.get("https://trip-planner-server.herokuapp.com//find_stop").then(function(a){t=a.data,n=Object.keys(t),e.setState({allStations:t}),e.setState({stationNames:n})}),v.a.get("https://trip-planner-server.herokuapp.com/wheelchairs.json").then(function(t){e.setState({stationAccess:t.data})})},e._handleSubmit=function(t){t.preventDefault(),console.log("handle submit is origin being saved?",e.state.origin),e.state.origin===e.state.destination?alert("Destination and origin cannot be the same"):e.setState({submitted:!0})},e.resultSubmitted=function(){e.setState({submitted:!1})},e.state={origin:null,destination:null,wheelchairAccess:!1,time:null,date:null,submitted:!1,allStations:null,selectedOrigin:null,selectedDestination:null,selectedTime:null,selectedDate:null,stationNames:[],stationAccess:null},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h3",null," A Trip Planner for train travel "),l.a.createElement(w.a,{onSubmit:this._handleSubmit},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,{htmlFor:"origin"}," From: ")),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Control,{as:"select",name:"origin",id:"origin",className:"searchInput stationInput",onChange:this._handleOriginChange,required:!0,autoFocus:!0},this.state.stationNames.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)}))),l.a.createElement(w.a.Label,{htmlFor:"destination"}," To: "),l.a.createElement(w.a.Control,{as:"select",name:"destination",id:"destination",className:"searchInput stationInput",onChange:this._handleDestinationChange,required:!0}," ",this.state.stationNames.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)})),l.a.createElement(w.a.Label,{htmlFor:"date"}," Select a date: "),l.a.createElement(w.a.Control,{type:"date",min:"2019-03-07",max:"2019-10-01",name:"date",id:"date",onChange:this._handleDate,className:"searchInput",required:!0}),l.a.createElement(w.a.Label,{htmlFor:"time"}," Pick a time: "),l.a.createElement(w.a.Control,{as:"select",name:"time",id:"time",onChange:this._handleTime,className:"searchInput",required:!0},l.a.createElement("option",null,"12:00"),l.a.createElement("option",null,"12:15"),l.a.createElement("option",null,"12:30"),l.a.createElement("option",null,"12:45"),l.a.createElement("option",null,"13:00"),l.a.createElement("option",null,"13:15"),l.a.createElement("option",null,"13:30"),l.a.createElement("option",null,"13:45"),l.a.createElement("option",null,"14:00"),l.a.createElement("option",null,"14:15"),l.a.createElement("option",null,"14:30"),l.a.createElement("option",null,"14:45"),l.a.createElement("option",null,"15:00"),l.a.createElement("option",null,"15:15"),l.a.createElement("option",null,"15:30"),l.a.createElement("option",null,"15:45"),l.a.createElement("option",null,"16:00"),l.a.createElement("option",null,"16:15"),l.a.createElement("option",null,"16:30"),l.a.createElement("option",null,"16:45"),l.a.createElement("option",null,"17:00"),l.a.createElement("option",null,"17:15"),l.a.createElement("option",null,"17:30"),l.a.createElement("option",null,"17:45"),l.a.createElement("option",null,"18:00"),l.a.createElement("option",null,"18:15"),l.a.createElement("option",null,"18:30"),l.a.createElement("option",null,"18:45"),l.a.createElement("option",null,"19:00"),l.a.createElement("option",null,"19:15"),l.a.createElement("option",null,"19:30"),l.a.createElement("option",null,"19:45"),l.a.createElement("option",null,"20:00"),l.a.createElement("option",null,"20:15"),l.a.createElement("option",null,"20:30"),l.a.createElement("option",null,"20:45"),l.a.createElement("option",null,"21:00"),l.a.createElement("option",null,"21:15"),l.a.createElement("option",null,"21:30"),l.a.createElement("option",null,"21:45"),l.a.createElement("option",null,"22:00"),l.a.createElement("option",null,"22:15"),l.a.createElement("option",null,"22:30"),l.a.createElement("option",null,"22:45"),l.a.createElement("option",null,"23:00"),l.a.createElement("option",null,"23:15"),l.a.createElement("option",null,"23:30"),l.a.createElement("option",null,"23:45"),l.a.createElement("option",null,"00:00"),l.a.createElement("option",null,"00:15"),l.a.createElement("option",null,"00:30"),l.a.createElement("option",null,"00:45"),l.a.createElement("option",null,"01:00"),l.a.createElement("option",null,"01:15"),l.a.createElement("option",null,"01:30"),l.a.createElement("option",null,"01:45"),l.a.createElement("option",null,"02:00"),l.a.createElement("option",null,"02:15"),l.a.createElement("option",null,"02:30"),l.a.createElement("option",null,"02:45"),l.a.createElement("option",null,"03:00"),l.a.createElement("option",null,"03:15"),l.a.createElement("option",null,"03:30"),l.a.createElement("option",null,"03:45"),l.a.createElement("option",null,"04:00"),l.a.createElement("option",null,"04:15"),l.a.createElement("option",null,"04:30"),l.a.createElement("option",null,"04:45"),l.a.createElement("option",null,"05:00"),l.a.createElement("option",null,"05:15"),l.a.createElement("option",null,"05:30"),l.a.createElement("option",null,"05:45"),l.a.createElement("option",null,"06:00"),l.a.createElement("option",null,"06:15"),l.a.createElement("option",null,"06:30"),l.a.createElement("option",null,"06:45"),l.a.createElement("option",null,"07:00"),l.a.createElement("option",null,"07:15"),l.a.createElement("option",null,"07:30"),l.a.createElement("option",null,"07:45"),l.a.createElement("option",null,"08:00"),l.a.createElement("option",null,"08:15"),l.a.createElement("option",null,"08:30"),l.a.createElement("option",null,"08:45"),l.a.createElement("option",null,"09:00"),l.a.createElement("option",null,"09:15"),l.a.createElement("option",null,"09:30"),l.a.createElement("option",null,"09:45"),l.a.createElement("option",null,"10:00"),l.a.createElement("option",null,"10:15"),l.a.createElement("option",null,"10:30"),l.a.createElement("option",null,"10:45"),l.a.createElement("option",null,"11:00"),l.a.createElement("option",null,"11:15"),l.a.createElement("option",null,"11:30"),l.a.createElement("option",null,"11:45")),l.a.createElement(w.a.Label,{htmlFor:"wheelchairAccess",className:"accessToggle hide"}," Return Wheelchair accessible routes only "),l.a.createElement(N.a,{type:"submit",htmlFor:"submit",variant:"danger",size:"lg"}," Plan Trip ")),l.a.createElement(O,{origin:this.state.origin,destination:this.state.destination,submitted:this.state.submitted,resultSubmitted:this.resultSubmitted,time:this.state.time,date:this.state.date,originName:this.state.selectedOrigin,destinationName:this.state.selectedDestination,wheelchairAccess:this.state.wheelchairAccess}))}}]),t}(a.Component),A=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h4",null," This is a footer "))}}]),t}(a.Component),T=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={userPresent:null},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(b,{userPresent:this.state.userPresent}),l.a.createElement(C,null),l.a.createElement(A,null))}}]),t}(a.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null," ",this.props.stationName,this.props.message," "))}}]),t}(a.Component),_=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).componentDidMount=function(){var t,n;v.a.get("https://trip-planner-server.herokuapp.com/find_stop").then(function(a){t=a.data,n=Object.keys(t),e.setState({allStations:t}),e.setState({stationNames:n})}),v.a.get("https://trip-planner-server.herokuapp.com/wheelchairs").then(function(t){e.setState({stationAccess:t.data})})},e.getMessage=function(t){return!0===e.state.stationAccessibility?void e.setState({message:" is wheelchair accessible"}):void e.setState({message:" is not wheelchair accessible"})},e._handleStationSelection=function(t){t.preventDefault(),console.log("current station name: ",t.target.value),e.setState({currentStationName:t.target.value}),console.log("current station id",e.state.allStations[t.target.value]),e.setState({currentStation:e.state.allStations[t.target.value]}),console.log("/////////"),console.log(e.state.stationAccess),console.log(e.state.stationAccess[t.target.value]),console.log("////////////"),e.setState({stationAccessibility:e.state.stationAccess[t.target.value]}),console.log("station accessibility:",e.state.stationAccessibility),e.getMessage(t)},e.state={allStations:null,stationNames:[],stationAccess:null,currentStation:null,currentStationName:null,message:""},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement("h2",null," Check a station "),l.a.createElement(w.a,{onSubmit:!0},l.a.createElement(w.a.Label,{htmlFor:"destination"}," Select Station "),l.a.createElement(w.a.Control,{as:"select",name:"destination",id:"destination",className:"searchInput stationInput",onChange:this._handleStationSelection,required:!0}," ",this.state.stationNames.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)}))),l.a.createElement(D,{message:this.state.message,stationName:this.state.currentStationName}),l.a.createElement(A,null))}}]),t}(a.Component),I=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"My Account"})}}]),t}(a.Component),L=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"signup App container"},l.a.createElement(b,null),l.a.createElement("h3",null," Sign in "),l.a.createElement(w.a,null,l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,{htmlFor:"email"}," Email: "),l.a.createElement(w.a.Control,{type:"email",name:"email",id:"email",placeholder:"Enter email",className:"searchInput"})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,{htmlFor:"password"}," Password: "),l.a.createElement(w.a.Control,{type:"text",name:"password",id:"password",placeholder:"Enter password",className:"searchInput"})),l.a.createElement(N.a,{type:"submit",htmlFor:"submit",variant:"danger"}," Sign in ")),l.a.createElement(A,null))}}]),t}(a.Component),P=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"confirmation"},l.a.createElement(b,null),l.a.createElement("h2",null," Confirmation Page "),l.a.createElement(A,null))}}]),t}(a.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var x=l.a.createElement(r.a,null,l.a.createElement("div",null,l.a.createElement(s.a,{exact:!0,path:"/",component:T}),l.a.createElement(s.a,{exact:!0,path:"/checkmystation",component:_}),l.a.createElement(s.a,{exact:!0,path:"/myaccount",component:I}),l.a.createElement(s.a,{exact:!0,path:"/signin",component:L}),l.a.createElement(s.a,{path:"/confirmation",component:P})));i.a.render(x,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Trip-Planner",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Trip-Planner","/service-worker.js");F?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):q(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):q(t,e)})}}()},20:function(e,t,n){},44:function(e,t,n){e.exports=n(103)}},[[44,1,2]]]);
//# sourceMappingURL=main.64c1df94.chunk.js.map